

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/trustweave/assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="/trustweave/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  
    .site-nav ul li a {
      background-image: none;
    }

  </style>

  

  
    <script src="/trustweave/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/trustweave/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Vaccination and Health Passport Scenario | TrustWeave Developer Documentation</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Vaccination and Health Passport Scenario" />
<meta name="author" content="GeoKnoesis" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Comprehensive developer documentation for TrustWeave - A neutral, reusable trust and identity core library for Kotlin" />
<meta property="og:description" content="Comprehensive developer documentation for TrustWeave - A neutral, reusable trust and identity core library for Kotlin" />
<link rel="canonical" href="http://localhost:4000/trustweave/scenarios/vaccination-health-passport-scenario/" />
<meta property="og:url" content="http://localhost:4000/trustweave/scenarios/vaccination-health-passport-scenario/" />
<meta property="og:site_name" content="TrustWeave Developer Documentation" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Vaccination and Health Passport Scenario" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"GeoKnoesis"},"description":"Comprehensive developer documentation for TrustWeave - A neutral, reusable trust and identity core library for Kotlin","headline":"Vaccination and Health Passport Scenario","url":"http://localhost:4000/trustweave/scenarios/vaccination-health-passport-scenario/"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  
    <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="/trustweave/" class="site-title lh-tight">
  TrustWeave Developer Documentation

</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>

  <nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Introduction category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/trustweave/introduction/README/" class="nav-list-link">Introduction</a><ul class="nav-list"><li class="nav-list-item"><a href="/trustweave/introduction/what-is-trustweave/" class="nav-list-link">What is TrustWeave?</a></li><li class="nav-list-item"><a href="/trustweave/introduction/executive-overview/" class="nav-list-link">Executive Overview: TrustWeave</a></li><li class="nav-list-item"><a href="/trustweave/introduction/key-features/" class="nav-list-link">Key Features</a></li><li class="nav-list-item"><a href="/trustweave/introduction/use-cases/" class="nav-list-link">Use Cases</a></li><li class="nav-list-item"><a href="/trustweave/introduction/architecture-overview/" class="nav-list-link">Architecture Overview</a></li><li class="nav-list-item"><a href="/trustweave/introduction/mental-model/" class="nav-list-link">TrustWeave Mental Model</a></li><li class="nav-list-item"><a href="/trustweave/introduction/web-of-trust/" class="nav-list-link">The Web of Trust: Foundation for Decentralized Trust</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Getting Started category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/trustweave/getting-started/README/" class="nav-list-link">Getting Started</a><ul class="nav-list"><li class="nav-list-item"><a href="/trustweave/getting-started/installation/" class="nav-list-link">Installation</a></li><li class="nav-list-item"><a href="/trustweave/getting-started/quick-start/" class="nav-list-link">Quick Start</a></li><li class="nav-list-item"><a href="/trustweave/getting-started/your-first-application/" class="nav-list-link">Your First Application</a></li><li class="nav-list-item"><a href="/trustweave/getting-started/project-setup/" class="nav-list-link">Project Setup</a></li><li class="nav-list-item"><a href="/trustweave/getting-started/ide-setup/" class="nav-list-link">IDE Setup Guide</a></li><li class="nav-list-item"><a href="/trustweave/getting-started/common-patterns/" class="nav-list-link">Common Patterns</a></li><li class="nav-list-item"><a href="/trustweave/getting-started/api-patterns/" class="nav-list-link">API Patterns and Best Practices</a></li><li class="nav-list-item"><a href="/trustweave/getting-started/workflows/" class="nav-list-link">Common Workflows</a></li><li class="nav-list-item"><a href="/trustweave/getting-started/dsl-guide/" class="nav-list-link">TrustWeave DSL Guide</a></li><li class="nav-list-item"><a href="/trustweave/getting-started/troubleshooting/" class="nav-list-link">Troubleshooting Guide</a></li><li class="nav-list-item"><a href="/trustweave/getting-started/production-deployment/" class="nav-list-link">Production Deployment Guide</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Core Concepts category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/trustweave/core-concepts/README/" class="nav-list-link">Core Concepts</a><ul class="nav-list"><li class="nav-list-item"><a href="/trustweave/core-concepts/dids/" class="nav-list-link">Decentralized Identifiers (DIDs)</a></li><li class="nav-list-item"><a href="/trustweave/core-concepts/verifiable-credentials/" class="nav-list-link">Verifiable Credentials (VCs)</a></li><li class="nav-list-item"><a href="/trustweave/core-concepts/wallets/" class="nav-list-link">Wallets</a></li><li class="nav-list-item"><a href="/trustweave/core-concepts/blockchain-anchoring/" class="nav-list-link">Blockchain Anchoring</a></li><li class="nav-list-item"><a href="/trustweave/core-concepts/smart-contracts/" class="nav-list-link">Smart Contracts</a></li><li class="nav-list-item"><a href="/trustweave/core-concepts/key-management/" class="nav-list-link">Key Management</a></li></ul></li><li class="nav-list-item"><a href="/trustweave/tutorials/README/" class="nav-list-link">Tutorials</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in API Reference category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/trustweave/api-reference/README/" class="nav-list-link">API Reference</a><ul class="nav-list"><li class="nav-list-item"><a href="/trustweave/api-reference/core-api/" class="nav-list-link">Core API Reference</a></li><li class="nav-list-item"><a href="/trustweave/api-reference/wallet-api/" class="nav-list-link">Wallet API Reference</a></li><li class="nav-list-item"><a href="/trustweave/api-reference/credential-service-api/" class="nav-list-link">Credential Service API Reference</a></li><li class="nav-list-item"><a href="/trustweave/api-reference/smart-contract-api/" class="nav-list-link">Smart Contract API Reference</a></li></ul></li><li class="nav-list-item"><a href="/trustweave/integrations/README/" class="nav-list-link">Integration Modules</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Advanced Topics category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/trustweave/advanced/README/" class="nav-list-link">Advanced Topics</a><ul class="nav-list"><li class="nav-list-item"><a href="/trustweave/advanced/error-handling/" class="nav-list-link">Error Handling</a></li></ul></li><li class="nav-list-item"><a href="/trustweave/modules/core-modules/" class="nav-list-link">Core Modules</a></li><li class="nav-list-item"><a href="/trustweave/contributing/README/" class="nav-list-link">Contributing to TrustWeave</a></li><li class="nav-list-item"><a href="/trustweave/faq/" class="nav-list-link">Frequently Asked Questions</a></li><li class="nav-list-item"><a href="/trustweave/tutorials/beginner-tutorial-series/" class="nav-list-link">Beginner Tutorial Series</a></li><li class="nav-list-item"><a href="/trustweave/core-concepts/blockchain-anchored-revocation/" class="nav-list-link">Blockchain-Anchored Revocation</a></li><li class="nav-list-item"><a href="/trustweave/contributing/code-style/" class="nav-list-link">Code Style</a></li><li class="nav-list-item"><a href="/trustweave/comparison/README/" class="nav-list-link">Comparison Documentation</a></li><li class="nav-list-item"><a href="/trustweave/configuration/README/" class="nav-list-link">Configuration Reference</a></li><li class="nav-list-item"><a href="/trustweave/advanced/custom-adapters/" class="nav-list-link">Creating Custom Adapters</a></li><li class="nav-list-item"><a href="/trustweave/contributing/creating-plugins/" class="nav-list-link">Creating TrustWeave Plugins</a></li><li class="nav-list-item"><a href="/trustweave/features/credential-exchange-protocols/README/" class="nav-list-link">Credential Exchange Protocols</a></li><li class="nav-list-item"><a href="/trustweave/tutorials/credential-issuance-tutorial/" class="nav-list-link">Credential Issuance Tutorial</a></li><li class="nav-list-item"><a href="/trustweave/core-concepts/algorithm-compatibility-table/" class="nav-list-link">Cryptographic Algorithm Compatibility: DIDs, VCs, AWS KMS, and Azure Key Vault</a></li><li class="nav-list-item"><a href="/trustweave/tutorials/did-operations-tutorial/" class="nav-list-link">DID Operations Tutorial</a></li><li class="nav-list-item"><a href="/trustweave/core-concepts/delegation/" class="nav-list-link">Delegation</a></li><li class="nav-list-item"><a href="/trustweave/contributing/development-setup/" class="nav-list-link">Development Setup</a></li><li class="nav-list-item"><a href="/trustweave/core-concepts/evaluation-engines/" class="nav-list-link">Evaluation Engines</a></li><li class="nav-list-item"><a href="/trustweave/core-concepts/json-canonicalization/" class="nav-list-link">JSON Canonicalization</a></li><li class="nav-list-item"><a href="/trustweave/advanced/key-rotation/" class="nav-list-link">Key Rotation Strategies</a></li><li class="nav-list-item"><a href="/trustweave/licensing/README/" class="nav-list-link">Licensing Overview</a></li><li class="nav-list-item"><a href="/trustweave/migration/README/" class="nav-list-link">Migration Guides</a></li><li class="nav-list-item"><a href="/trustweave/advanced/performance/" class="nav-list-link">Performance Considerations</a></li><li class="nav-list-item"><a href="/trustweave/advanced/plugin-lifecycle/" class="nav-list-link">Plugin Lifecycle Management</a></li><li class="nav-list-item"><a href="/trustweave/core-concepts/proof-purpose-validation/" class="nav-list-link">Proof Purpose Validation</a></li><li class="nav-list-item"><a href="/trustweave/core-concepts/credential-exchange-protocols/" class="nav-list-link">Protocol Abstraction Layer</a></li><li class="nav-list-item"><a href="/trustweave/contributing/pull-request-process/" class="nav-list-link">Pull Request Process</a></li><li class="nav-list-item"><a href="/trustweave/security/README/" class="nav-list-link">Security Best Practices</a></li><li class="nav-list-item"><a href="/trustweave/advanced/spi/" class="nav-list-link">Service Provider Interface (SPI)</a></li><li class="nav-list-item"><a href="/trustweave/plugins/" class="nav-list-link">Supported Plugins</a></li><li class="nav-list-item"><a href="/trustweave/contributing/testing-guidelines/" class="nav-list-link">Testing Guidelines</a></li><li class="nav-list-item"><a href="/trustweave/advanced/testing-strategies/" class="nav-list-link">Testing Strategies</a></li><li class="nav-list-item"><a href="/trustweave/core-concepts/trust-registry/" class="nav-list-link">Trust Registry</a></li><li class="nav-list-item"><a href="/trustweave/GLOSSARY/" class="nav-list-link">TrustWeave Glossary</a></li><li class="nav-list-item"><a href="/trustweave/TRUSTWEAVE_WHITEPAPER/" class="nav-list-link">TrustWeave SDK: Decentralized Trust Infrastructure</a></li><li class="nav-list-item"><a href="/trustweave/scenarios/README/" class="nav-list-link">Use Case Scenarios</a></li><li class="nav-list-item"><a href="/trustweave/advanced/verification-policies/" class="nav-list-link">Verification Policies</a></li><li class="nav-list-item"><a href="/trustweave/tutorials/wallet-api-tutorial/" class="nav-list-link">Wallet API Tutorial</a></li></ul>
  
</nav>




  
  
    <footer class="site-footer">
      This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  
</div>

  
  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search TrustWeave Developer Documentation" aria-label="Search TrustWeave Developer Documentation" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  
  
</div>

    <div class="main-content-wrap">
      
      <div id="main-content" class="main-content">
        <main>
          
            <h1 id="vaccination-and-health-passport-scenario">
  
  
    <a href="#vaccination-and-health-passport-scenario" class="anchor-heading" aria-labelledby="vaccination-and-health-passport-scenario"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Vaccination and Health Passport Scenario
  
  
</h1>
    

<p>This guide demonstrates how to build a complete vaccination and health passport system using TrustWeave. You’ll learn how healthcare providers can issue vaccination credentials, how individuals can store them in wallets, and how verifiers (airlines, venues, employers) can verify vaccination status while preserving privacy.</p>
<h2 id="what-youll-build">
  
  
    <a href="#what-youll-build" class="anchor-heading" aria-labelledby="what-youll-build"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What You’ll Build
  
  
</h2>
    

<p>By the end of this tutorial, you’ll have:</p>

<ul>
  <li>✅ Created DIDs for healthcare provider (issuer) and individual (holder)</li>
  <li>✅ Issued Verifiable Credentials for vaccinations</li>
  <li>✅ Stored vaccination credentials in a health wallet</li>
  <li>✅ Organized multiple vaccination credentials</li>
  <li>✅ Created privacy-preserving health presentations</li>
  <li>✅ Verified vaccination status without revealing personal information</li>
  <li>✅ Implemented credential expiration and renewal</li>
</ul>
<h2 id="big-picture--significance">
  
  
    <a href="#big-picture--significance" class="anchor-heading" aria-labelledby="big-picture--significance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Big Picture &amp; Significance
  
  
</h2>
    
<h3 id="the-health-passport-challenge">
  
  
    <a href="#the-health-passport-challenge" class="anchor-heading" aria-labelledby="the-health-passport-challenge"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The Health Passport Challenge
  
  
</h3>
    

<p>Health passports have become essential for travel, event access, and workplace safety. However, traditional health records are fragmented, not portable, and don’t respect privacy. Verifiable credentials solve these problems.</p>

<p><strong>Industry Context:</strong></p>
<ul>
  <li><strong>Market Size</strong>: Global digital health market projected to reach $659 billion by 2025</li>
  <li><strong>Travel Impact</strong>: Health credentials required for international travel</li>
  <li><strong>Event Access</strong>: Many venues require proof of vaccination</li>
  <li><strong>Privacy Concerns</strong>: Health data is highly sensitive</li>
  <li><strong>Interoperability</strong>: Need to work across countries and systems</li>
</ul>

<p><strong>Why This Matters:</strong></p>
<ol>
  <li><strong>Privacy</strong>: Share vaccination status without revealing other health information</li>
  <li><strong>Portability</strong>: Health credentials work across borders and systems</li>
  <li><strong>Verification</strong>: Instant verification without contacting healthcare providers</li>
  <li><strong>Security</strong>: Cryptographic proof prevents forgery</li>
  <li><strong>Control</strong>: Individuals own and control their health data</li>
  <li><strong>Interoperability</strong>: Standard format works globally</li>
</ol>
<h3 id="the-health-credential-problem">
  
  
    <a href="#the-health-credential-problem" class="anchor-heading" aria-labelledby="the-health-credential-problem"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The Health Credential Problem
  
  
</h3>
    

<p>Traditional health records face critical issues:</p>
<ul>
  <li><strong>Fragmentation</strong>: Records scattered across providers</li>
  <li><strong>No Privacy</strong>: Sharing records reveals all health information</li>
  <li><strong>Not Portable</strong>: Records tied to specific healthcare systems</li>
  <li><strong>Verification Slow</strong>: Manual verification takes time</li>
  <li><strong>Fraud Risk</strong>: Paper records can be forged</li>
  <li><strong>No Interoperability</strong>: Different systems don’t communicate</li>
</ul>
<h2 id="value-proposition">
  
  
    <a href="#value-proposition" class="anchor-heading" aria-labelledby="value-proposition"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Value Proposition
  
  
</h2>
    
<h3 id="problems-solved">
  
  
    <a href="#problems-solved" class="anchor-heading" aria-labelledby="problems-solved"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Problems Solved
  
  
</h3>
    

<ol>
  <li><strong>Privacy-Preserving</strong>: Share only vaccination status, not full health records</li>
  <li><strong>Instant Verification</strong>: Cryptographic proof without contacting providers</li>
  <li><strong>Fraud Prevention</strong>: Tamper-proof credentials cannot be forged</li>
  <li><strong>Portability</strong>: Credentials work across countries and systems</li>
  <li><strong>Self-Sovereign</strong>: Individuals control their health data</li>
  <li><strong>Interoperability</strong>: Standard format works globally</li>
  <li><strong>Efficiency</strong>: Streamlined verification process</li>
</ol>
<h3 id="business-benefits">
  
  
    <a href="#business-benefits" class="anchor-heading" aria-labelledby="business-benefits"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Business Benefits
  
  
</h3>
    

<p><strong>For Healthcare Providers:</strong></p>
<ul>
  <li><strong>Efficiency</strong>: Automated credential issuance</li>
  <li><strong>Compliance</strong>: Meet health data regulations</li>
  <li><strong>Trust</strong>: Enhanced trust through verifiable credentials</li>
  <li><strong>Cost Savings</strong>: Reduced verification workload</li>
</ul>

<p><strong>For Individuals:</strong></p>
<ul>
  <li><strong>Privacy</strong>: Control what health information is shared</li>
  <li><strong>Convenience</strong>: Access credentials from any device</li>
  <li><strong>Portability</strong>: Credentials work everywhere</li>
  <li><strong>Security</strong>: Cryptographic protection of health data</li>
</ul>

<p><strong>For Verifiers (Airlines, Venues, Employers):</strong></p>
<ul>
  <li><strong>Speed</strong>: Instant verification</li>
  <li><strong>Trust</strong>: Cryptographic proof of authenticity</li>
  <li><strong>Compliance</strong>: Meet health and safety requirements</li>
  <li><strong>Efficiency</strong>: Streamlined access control</li>
</ul>
<h3 id="roi-considerations">
  
  
    <a href="#roi-considerations" class="anchor-heading" aria-labelledby="roi-considerations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ROI Considerations
  
  
</h3>
    

<ul>
  <li><strong>Verification Speed</strong>: 100x faster than manual verification</li>
  <li><strong>Fraud Prevention</strong>: Eliminates fake vaccination records</li>
  <li><strong>Privacy Compliance</strong>: Automated GDPR/HIPAA compliance</li>
  <li><strong>Cost Reduction</strong>: 80-90% reduction in verification costs</li>
  <li><strong>User Experience</strong>: Improved user satisfaction</li>
</ul>
<h2 id="understanding-the-problem">
  
  
    <a href="#understanding-the-problem" class="anchor-heading" aria-labelledby="understanding-the-problem"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Understanding the Problem
  
  
</h2>
    

<p>Traditional health records have several problems:</p>

<ol>
  <li><strong>Fragmentation</strong>: Records scattered across providers</li>
  <li><strong>No privacy</strong>: Sharing records reveals all information</li>
  <li><strong>Not portable</strong>: Records tied to specific systems</li>
  <li><strong>Verification slow</strong>: Manual verification takes time</li>
  <li><strong>Fraud risk</strong>: Paper records can be forged</li>
</ol>

<p>TrustWeave solves this by enabling:</p>

<ul>
  <li><strong>Privacy-preserving</strong>: Selective disclosure shows only vaccination status</li>
  <li><strong>Instant verification</strong>: Cryptographic proof without contacting providers</li>
  <li><strong>Tamper-proof</strong>: Credentials are cryptographically signed</li>
  <li><strong>Self-sovereign</strong>: Individuals control their health data</li>
  <li><strong>Interoperable</strong>: Standard format works globally</li>
</ul>
<h2 id="how-it-works-the-health-passport-flow">
  
  
    <a href="#how-it-works-the-health-passport-flow" class="anchor-heading" aria-labelledby="how-it-works-the-health-passport-flow"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How It Works: The Health Passport Flow
  
  
</h2>
    

<pre><code class="language-mermaid">flowchart TD
    A["Healthcare Provider&lt;br/&gt;Issues Vaccination Credential&lt;br/&gt;Signs with provider DID"] --&gt;|issues| B["Vaccination Credential&lt;br/&gt;Individual DID&lt;br/&gt;Vaccine Information&lt;br/&gt;Cryptographic Proof"]
    B --&gt;|stored in| C["Health Wallet&lt;br/&gt;Stores vaccination credentials&lt;br/&gt;Organizes by vaccine type&lt;br/&gt;Tracks expiration dates"]
    C --&gt;|presents| D["Verifier&lt;br/&gt;Airlines, Venues, Employers&lt;br/&gt;Verifies vaccination status&lt;br/&gt;Checks expiration without seeing personal info"]
    
    style A fill:#1976d2,stroke:#0d47a1,stroke-width:2px,color:#fff
    style B fill:#f57c00,stroke:#e65100,stroke-width:2px,color:#fff
    style C fill:#388e3c,stroke:#1b5e20,stroke-width:2px,color:#fff
    style D fill:#c2185b,stroke:#880e4f,stroke-width:2px,color:#fff
</code></pre>
<h2 id="prerequisites">
  
  
    <a href="#prerequisites" class="anchor-heading" aria-labelledby="prerequisites"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites
  
  
</h2>
    

<ul>
  <li>Java 21+</li>
  <li>Kotlin 2.2.0+</li>
  <li>Gradle 8.5+</li>
  <li>Basic understanding of Kotlin and coroutines</li>
</ul>
<h2 id="step-1-add-dependencies">
  
  
    <a href="#step-1-add-dependencies" class="anchor-heading" aria-labelledby="step-1-add-dependencies"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 1: Add Dependencies
  
  
</h2>
    

<p>Add TrustWeave dependencies to your <code class="language-plaintext highlighter-rouge">build.gradle.kts</code>:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="nf">dependencies</span> <span class="p">{</span>
    <span class="c1">// Core TrustWeave modules</span>
    <span class="nf">implementation</span><span class="p">(</span><span class="s">"com.trustweave:trustweave-all:1.0.0-SNAPSHOT"</span><span class="p">)</span>
    
    <span class="c1">// Kotlinx Serialization</span>
    <span class="nf">implementation</span><span class="p">(</span><span class="s">"org.jetbrains.kotlinx:kotlinx-serialization-json:1.6.0"</span><span class="p">)</span>
    
    <span class="c1">// Coroutines</span>
    <span class="nf">implementation</span><span class="p">(</span><span class="s">"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.7.3"</span><span class="p">)</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h2 id="step-2-complete-runnable-example">
  
  
    <a href="#step-2-complete-runnable-example" class="anchor-heading" aria-labelledby="step-2-complete-runnable-example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Step 2: Complete Runnable Example
  
  
</h2>
    

<p>Here’s the full vaccination and health passport flow using the TrustWeave facade API:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
</pre></td><td class="rouge-code"><pre><span class="k">package</span> <span class="nn">com.example.vaccination.healthpassport</span>

<span class="k">import</span> <span class="nn">com.trustweave.TrustWeave</span>
<span class="k">import</span> <span class="nn">com.trustweave.core.*</span>
<span class="k">import</span> <span class="nn">com.trustweave.credential.PresentationOptions</span>
<span class="k">import</span> <span class="nn">com.trustweave.credential.wallet.Wallet</span>
<span class="k">import</span> <span class="nn">com.trustweave.spi.services.WalletCreationOptionsBuilder</span>
<span class="k">import</span> <span class="nn">kotlinx.coroutines.runBlocking</span>
<span class="k">import</span> <span class="nn">kotlinx.serialization.json.buildJsonObject</span>
<span class="k">import</span> <span class="nn">kotlinx.serialization.json.put</span>
<span class="k">import</span> <span class="nn">java.time.Instant</span>
<span class="k">import</span> <span class="nn">java.time.temporal.ChronoUnit</span>

<span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">=</span> <span class="nf">runBlocking</span> <span class="p">{</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"="</span><span class="p">.</span><span class="nf">repeat</span><span class="p">(</span><span class="mi">70</span><span class="p">))</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"Vaccination and Health Passport Scenario - Complete End-to-End Example"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"="</span><span class="p">.</span><span class="nf">repeat</span><span class="p">(</span><span class="mi">70</span><span class="p">))</span>
    
    <span class="c1">// Step 1: Create TrustWeave instance</span>
    <span class="kd">val</span> <span class="py">TrustWeave</span> <span class="p">=</span> <span class="nc">TrustWeave</span><span class="p">.</span><span class="nf">create</span><span class="p">()</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"\n✅ TrustWeave initialized"</span><span class="p">)</span>
    
    <span class="c1">// Step 2: Create DIDs for healthcare provider and individual</span>
    <span class="kd">val</span> <span class="py">healthcareProviderDidDoc</span> <span class="p">=</span> <span class="nc">TrustWeave</span><span class="p">.</span><span class="n">dids</span><span class="p">.</span><span class="nf">create</span><span class="p">()</span>
    <span class="kd">val</span> <span class="py">healthcareProviderDid</span> <span class="p">=</span> <span class="n">healthcareProviderDidDoc</span><span class="p">.</span><span class="n">id</span>
    <span class="kd">val</span> <span class="py">healthcareProviderKeyId</span> <span class="p">=</span> <span class="n">healthcareProviderDidDoc</span><span class="p">.</span><span class="n">verificationMethod</span><span class="p">.</span><span class="nf">firstOrNull</span><span class="p">()</span><span class="o">?.</span><span class="n">id</span>
        <span class="o">?:</span> <span class="nf">error</span><span class="p">(</span><span class="s">"No verification method found"</span><span class="p">)</span>
    
    <span class="kd">val</span> <span class="py">individualDidDoc</span> <span class="p">=</span> <span class="nc">TrustWeave</span><span class="p">.</span><span class="n">dids</span><span class="p">.</span><span class="nf">create</span><span class="p">()</span>
    <span class="kd">val</span> <span class="py">individualDid</span> <span class="p">=</span> <span class="n">individualDidDoc</span><span class="p">.</span><span class="n">id</span>
    
    <span class="kd">val</span> <span class="py">airlineDidDoc</span> <span class="p">=</span> <span class="nc">TrustWeave</span><span class="p">.</span><span class="n">dids</span><span class="p">.</span><span class="nf">create</span><span class="p">()</span>
    <span class="kd">val</span> <span class="py">airlineDid</span> <span class="p">=</span> <span class="n">airlineDidDoc</span><span class="p">.</span><span class="n">id</span>
    
    <span class="nf">println</span><span class="p">(</span><span class="s">"✅ Healthcare Provider DID: $healthcareProviderDid"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"✅ Individual DID: $individualDid"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"✅ Airline Verifier DID: $airlineDid"</span><span class="p">)</span>
    
    <span class="c1">// Step 3: Issue first vaccination credential (COVID-19, Dose 1)</span>
    <span class="kd">val</span> <span class="py">vaccination1Credential</span> <span class="p">=</span> <span class="nc">TrustWeave</span><span class="p">.</span><span class="nf">issueCredential</span><span class="p">(</span>
        <span class="n">issuerDid</span> <span class="p">=</span> <span class="n">healthcareProviderDid</span><span class="p">,</span>
        <span class="n">issuerKeyId</span> <span class="p">=</span> <span class="n">healthcareProviderKeyId</span><span class="p">,</span>
        <span class="n">credentialSubject</span> <span class="p">=</span> <span class="nf">buildJsonObject</span> <span class="p">{</span>
            <span class="nf">put</span><span class="p">(</span><span class="s">"id"</span><span class="p">,</span> <span class="n">individualDid</span><span class="p">)</span>
            <span class="nf">put</span><span class="p">(</span><span class="s">"vaccination"</span><span class="p">,</span> <span class="nf">buildJsonObject</span> <span class="p">{</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"vaccineType"</span><span class="p">,</span> <span class="s">"COVID-19"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"vaccineName"</span><span class="p">,</span> <span class="s">"Pfizer-BioNTech"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"manufacturer"</span><span class="p">,</span> <span class="s">"Pfizer Inc"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"lotNumber"</span><span class="p">,</span> <span class="s">"EW0167"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"doseNumber"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"totalDoses"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"vaccinationDate"</span><span class="p">,</span> <span class="s">"2021-03-15"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"vaccinationSite"</span><span class="p">,</span> <span class="s">"City Health Clinic"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"healthcareProvider"</span><span class="p">,</span> <span class="s">"City Health Services"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"batchNumber"</span><span class="p">,</span> <span class="s">"BATCH-2021-001"</span><span class="p">)</span>
            <span class="p">})</span>
        <span class="p">},</span>
        <span class="n">types</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="s">"VerifiableCredential"</span><span class="p">,</span> <span class="s">"VaccinationCredential"</span><span class="p">,</span> <span class="s">"HealthCredential"</span><span class="p">),</span>
        <span class="n">expirationDate</span> <span class="p">=</span> <span class="nc">Instant</span><span class="p">.</span><span class="nf">now</span><span class="p">().</span><span class="nf">plus</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nc">ChronoUnit</span><span class="p">.</span><span class="nc">YEARS</span><span class="p">).</span><span class="nf">toString</span><span class="p">()</span>
    <span class="p">).</span><span class="nf">getOrThrow</span><span class="p">()</span>
    
    <span class="nf">println</span><span class="p">(</span><span class="s">"\n✅ First vaccination credential issued: ${vaccination1Credential.id}"</span><span class="p">)</span>
    
    <span class="c1">// Step 4: Issue second vaccination credential (COVID-19, Dose 2)</span>
    <span class="kd">val</span> <span class="py">vaccination2Credential</span> <span class="p">=</span> <span class="nc">TrustWeave</span><span class="p">.</span><span class="nf">issueCredential</span><span class="p">(</span>
        <span class="n">issuerDid</span> <span class="p">=</span> <span class="n">healthcareProviderDid</span><span class="p">,</span>
        <span class="n">issuerKeyId</span> <span class="p">=</span> <span class="n">healthcareProviderKeyId</span><span class="p">,</span>
        <span class="n">credentialSubject</span> <span class="p">=</span> <span class="nf">buildJsonObject</span> <span class="p">{</span>
            <span class="nf">put</span><span class="p">(</span><span class="s">"id"</span><span class="p">,</span> <span class="n">individualDid</span><span class="p">)</span>
            <span class="nf">put</span><span class="p">(</span><span class="s">"vaccination"</span><span class="p">,</span> <span class="nf">buildJsonObject</span> <span class="p">{</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"vaccineType"</span><span class="p">,</span> <span class="s">"COVID-19"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"vaccineName"</span><span class="p">,</span> <span class="s">"Pfizer-BioNTech"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"manufacturer"</span><span class="p">,</span> <span class="s">"Pfizer Inc"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"lotNumber"</span><span class="p">,</span> <span class="s">"EW0189"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"doseNumber"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"totalDoses"</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"vaccinationDate"</span><span class="p">,</span> <span class="s">"2021-04-05"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"vaccinationSite"</span><span class="p">,</span> <span class="s">"City Health Clinic"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"healthcareProvider"</span><span class="p">,</span> <span class="s">"City Health Services"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"batchNumber"</span><span class="p">,</span> <span class="s">"BATCH-2021-002"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"fullyVaccinated"</span><span class="p">,</span> <span class="k">true</span><span class="p">)</span>
            <span class="p">})</span>
        <span class="p">},</span>
        <span class="n">types</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="s">"VerifiableCredential"</span><span class="p">,</span> <span class="s">"VaccinationCredential"</span><span class="p">,</span> <span class="s">"HealthCredential"</span><span class="p">),</span>
        <span class="n">expirationDate</span> <span class="p">=</span> <span class="nc">Instant</span><span class="p">.</span><span class="nf">now</span><span class="p">().</span><span class="nf">plus</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nc">ChronoUnit</span><span class="p">.</span><span class="nc">YEARS</span><span class="p">).</span><span class="nf">toString</span><span class="p">()</span>
    <span class="p">).</span><span class="nf">getOrThrow</span><span class="p">()</span>
    
    <span class="nf">println</span><span class="p">(</span><span class="s">"✅ Second vaccination credential issued: ${vaccination2Credential.id}"</span><span class="p">)</span>
    
    <span class="c1">// Step 5: Issue booster vaccination credential</span>
    <span class="kd">val</span> <span class="py">boosterCredential</span> <span class="p">=</span> <span class="nc">TrustWeave</span><span class="p">.</span><span class="nf">issueCredential</span><span class="p">(</span>
        <span class="n">issuerDid</span> <span class="p">=</span> <span class="n">healthcareProviderDid</span><span class="p">,</span>
        <span class="n">issuerKeyId</span> <span class="p">=</span> <span class="n">healthcareProviderKeyId</span><span class="p">,</span>
        <span class="n">credentialSubject</span> <span class="p">=</span> <span class="nf">buildJsonObject</span> <span class="p">{</span>
            <span class="nf">put</span><span class="p">(</span><span class="s">"id"</span><span class="p">,</span> <span class="n">individualDid</span><span class="p">)</span>
            <span class="nf">put</span><span class="p">(</span><span class="s">"vaccination"</span><span class="p">,</span> <span class="nf">buildJsonObject</span> <span class="p">{</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"vaccineType"</span><span class="p">,</span> <span class="s">"COVID-19"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"vaccineName"</span><span class="p">,</span> <span class="s">"Pfizer-BioNTech Booster"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"manufacturer"</span><span class="p">,</span> <span class="s">"Pfizer Inc"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"lotNumber"</span><span class="p">,</span> <span class="s">"EW0256"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"doseNumber"</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"totalDoses"</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"vaccinationDate"</span><span class="p">,</span> <span class="s">"2022-11-20"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"vaccinationSite"</span><span class="p">,</span> <span class="s">"City Health Clinic"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"healthcareProvider"</span><span class="p">,</span> <span class="s">"City Health Services"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"batchNumber"</span><span class="p">,</span> <span class="s">"BATCH-2022-045"</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"fullyVaccinated"</span><span class="p">,</span> <span class="k">true</span><span class="p">)</span>
                <span class="nf">put</span><span class="p">(</span><span class="s">"booster"</span><span class="p">,</span> <span class="k">true</span><span class="p">)</span>
            <span class="p">})</span>
        <span class="p">},</span>
        <span class="n">types</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="s">"VerifiableCredential"</span><span class="p">,</span> <span class="s">"VaccinationCredential"</span><span class="p">,</span> <span class="s">"HealthCredential"</span><span class="p">,</span> <span class="s">"BoosterCredential"</span><span class="p">),</span>
        <span class="n">expirationDate</span> <span class="p">=</span> <span class="nc">Instant</span><span class="p">.</span><span class="nf">now</span><span class="p">().</span><span class="nf">plus</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nc">ChronoUnit</span><span class="p">.</span><span class="nc">YEARS</span><span class="p">).</span><span class="nf">toString</span><span class="p">()</span>
    <span class="p">).</span><span class="nf">getOrThrow</span><span class="p">()</span>
    
    <span class="nf">println</span><span class="p">(</span><span class="s">"✅ Booster vaccination credential issued: ${boosterCredential.id}"</span><span class="p">)</span>
    
    <span class="c1">// Step 6: Create health wallet and store all vaccination credentials</span>
    <span class="kd">val</span> <span class="py">healthWallet</span> <span class="p">=</span> <span class="nc">TrustWeave</span><span class="p">.</span><span class="nf">createWallet</span><span class="p">(</span>
        <span class="n">holderDid</span> <span class="p">=</span> <span class="n">individualDid</span><span class="p">,</span>
        <span class="n">options</span> <span class="p">=</span> <span class="nc">WalletCreationOptionsBuilder</span><span class="p">().</span><span class="nf">apply</span> <span class="p">{</span>
            <span class="n">enableOrganization</span> <span class="p">=</span> <span class="k">true</span>
            <span class="n">enablePresentation</span> <span class="p">=</span> <span class="k">true</span>
        <span class="p">}.</span><span class="nf">build</span><span class="p">()</span>
    <span class="p">).</span><span class="nf">getOrThrow</span><span class="p">()</span>
    
    <span class="kd">val</span> <span class="py">vaccination1Id</span> <span class="p">=</span> <span class="n">healthWallet</span><span class="p">.</span><span class="nf">store</span><span class="p">(</span><span class="n">vaccination1Credential</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">vaccination2Id</span> <span class="p">=</span> <span class="n">healthWallet</span><span class="p">.</span><span class="nf">store</span><span class="p">(</span><span class="n">vaccination2Credential</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">boosterId</span> <span class="p">=</span> <span class="n">healthWallet</span><span class="p">.</span><span class="nf">store</span><span class="p">(</span><span class="n">boosterCredential</span><span class="p">)</span>
    
    <span class="nf">println</span><span class="p">(</span><span class="s">"\n✅ All vaccination credentials stored in health wallet"</span><span class="p">)</span>
    
    <span class="c1">// Step 7: Organize credentials by vaccine type</span>
    <span class="n">healthWallet</span><span class="p">.</span><span class="nf">withOrganization</span> <span class="p">{</span> <span class="n">org</span> <span class="p">-&gt;</span>
        <span class="kd">val</span> <span class="py">covid19CollectionId</span> <span class="p">=</span> <span class="n">org</span><span class="p">.</span><span class="nf">createCollection</span><span class="p">(</span><span class="s">"COVID-19 Vaccinations"</span><span class="p">,</span> <span class="s">"COVID-19 vaccination records"</span><span class="p">)</span>
        
        <span class="n">org</span><span class="p">.</span><span class="nf">addToCollection</span><span class="p">(</span><span class="n">vaccination1Id</span><span class="p">,</span> <span class="n">covid19CollectionId</span><span class="p">)</span>
        <span class="n">org</span><span class="p">.</span><span class="nf">addToCollection</span><span class="p">(</span><span class="n">vaccination2Id</span><span class="p">,</span> <span class="n">covid19CollectionId</span><span class="p">)</span>
        <span class="n">org</span><span class="p">.</span><span class="nf">addToCollection</span><span class="p">(</span><span class="n">boosterId</span><span class="p">,</span> <span class="n">covid19CollectionId</span><span class="p">)</span>
        
        <span class="n">org</span><span class="p">.</span><span class="nf">tagCredential</span><span class="p">(</span><span class="n">vaccination1Id</span><span class="p">,</span> <span class="nf">setOf</span><span class="p">(</span><span class="s">"covid19"</span><span class="p">,</span> <span class="s">"dose1"</span><span class="p">,</span> <span class="s">"pfizer"</span><span class="p">,</span> <span class="s">"vaccination"</span><span class="p">))</span>
        <span class="n">org</span><span class="p">.</span><span class="nf">tagCredential</span><span class="p">(</span><span class="n">vaccination2Id</span><span class="p">,</span> <span class="nf">setOf</span><span class="p">(</span><span class="s">"covid19"</span><span class="p">,</span> <span class="s">"dose2"</span><span class="p">,</span> <span class="s">"pfizer"</span><span class="p">,</span> <span class="s">"fully-vaccinated"</span><span class="p">,</span> <span class="s">"vaccination"</span><span class="p">))</span>
        <span class="n">org</span><span class="p">.</span><span class="nf">tagCredential</span><span class="p">(</span><span class="n">boosterId</span><span class="p">,</span> <span class="nf">setOf</span><span class="p">(</span><span class="s">"covid19"</span><span class="p">,</span> <span class="s">"booster"</span><span class="p">,</span> <span class="s">"pfizer"</span><span class="p">,</span> <span class="s">"fully-vaccinated"</span><span class="p">,</span> <span class="s">"vaccination"</span><span class="p">))</span>
        
        <span class="nf">println</span><span class="p">(</span><span class="s">"✅ Vaccination credentials organized"</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="c1">// Step 8: Create privacy-preserving presentation for airline</span>
    <span class="c1">// Only shares vaccination status, not personal health information</span>
    <span class="kd">val</span> <span class="py">travelPresentation</span> <span class="p">=</span> <span class="n">healthWallet</span><span class="p">.</span><span class="nf">withPresentation</span> <span class="p">{</span> <span class="n">pres</span> <span class="p">-&gt;</span>
        <span class="n">pres</span><span class="p">.</span><span class="nf">createPresentation</span><span class="p">(</span>
            <span class="n">credentialIds</span> <span class="p">=</span> <span class="nf">listOf</span><span class="p">(</span><span class="n">boosterId</span><span class="p">),</span> <span class="c1">// Only share most recent/valid credential</span>
            <span class="n">holderDid</span> <span class="p">=</span> <span class="n">individualDid</span><span class="p">,</span>
            <span class="n">options</span> <span class="p">=</span> <span class="nc">PresentationOptions</span><span class="p">(</span>
                <span class="n">holderDid</span> <span class="p">=</span> <span class="n">individualDid</span><span class="p">,</span>
                <span class="n">challenge</span> <span class="p">=</span> <span class="s">"airline-check-${System.currentTimeMillis()}"</span>
            <span class="p">)</span>
        <span class="p">)</span>
    <span class="p">}</span> <span class="o">?:</span> <span class="nf">error</span><span class="p">(</span><span class="s">"Presentation capability not available"</span><span class="p">)</span>
    
    <span class="nf">println</span><span class="p">(</span><span class="s">"\n✅ Travel presentation created"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"   Holder: ${travelPresentation.holder}"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"   Credentials: ${travelPresentation.verifiableCredential.size}"</span><span class="p">)</span>
    
    <span class="c1">// Step 9: Airline verifies vaccination status</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"\n✈️ Airline Verification Process:"</span><span class="p">)</span>
    
    <span class="kd">val</span> <span class="py">boosterVerification</span> <span class="p">=</span> <span class="nc">TrustWeave</span><span class="p">.</span><span class="nf">verifyCredential</span><span class="p">(</span><span class="n">boosterCredential</span><span class="p">).</span><span class="nf">getOrThrow</span><span class="p">()</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="n">boosterVerification</span><span class="p">.</span><span class="n">valid</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"✅ Vaccination Credential: VALID"</span><span class="p">)</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"   Proof valid: ${boosterVerification.proofValid}"</span><span class="p">)</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"   Issuer valid: ${boosterVerification.issuerValid}"</span><span class="p">)</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"   Not expired: ${boosterCredential.expirationDate?.let { 
</span>            <span class="nc">Instant</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">it</span><span class="p">).</span><span class="nf">isAfter</span><span class="p">(</span><span class="nc">Instant</span><span class="p">.</span><span class="nf">now</span><span class="p">())</span> 
        <span class="p">}</span> <span class="o">?:</span> <span class="k">true</span><span class="p">}</span><span class="s">")
</span>        
        <span class="c1">// Check if fully vaccinated</span>
        <span class="kd">val</span> <span class="py">credentialSubject</span> <span class="p">=</span> <span class="n">boosterCredential</span><span class="p">.</span><span class="n">credentialSubject</span>
        <span class="kd">val</span> <span class="py">vaccination</span> <span class="p">=</span> <span class="n">credentialSubject</span><span class="p">.</span><span class="n">jsonObject</span><span class="p">[</span><span class="s">"vaccination"</span><span class="p">]</span><span class="o">?.</span><span class="n">jsonObject</span>
        <span class="kd">val</span> <span class="py">fullyVaccinated</span> <span class="p">=</span> <span class="n">vaccination</span><span class="o">?.</span><span class="k">get</span><span class="p">(</span><span class="s">"fullyVaccinated"</span><span class="p">)</span><span class="o">?.</span><span class="n">jsonPrimitive</span><span class="o">?.</span><span class="n">content</span><span class="o">?.</span><span class="nf">toBoolean</span><span class="p">()</span> <span class="o">?:</span> <span class="k">false</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="n">fullyVaccinated</span><span class="p">)</span> <span class="p">{</span>
            <span class="nf">println</span><span class="p">(</span><span class="s">"✅ Individual is fully vaccinated"</span><span class="p">)</span>
            <span class="nf">println</span><span class="p">(</span><span class="s">"✅ Boarding approved"</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nf">println</span><span class="p">(</span><span class="s">"❌ Individual is not fully vaccinated"</span><span class="p">)</span>
            <span class="nf">println</span><span class="p">(</span><span class="s">"❌ Boarding denied"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"❌ Vaccination Credential: INVALID"</span><span class="p">)</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"   Errors: ${boosterVerification.errors}"</span><span class="p">)</span>
        <span class="nf">println</span><span class="p">(</span><span class="s">"❌ Boarding denied"</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="c1">// Step 10: Check credential expiration and renewal</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"\n📅 Credential Expiration Check:"</span><span class="p">)</span>
    
    <span class="nf">listOf</span><span class="p">(</span><span class="n">vaccination1Credential</span><span class="p">,</span> <span class="n">vaccination2Credential</span><span class="p">,</span> <span class="n">boosterCredential</span><span class="p">).</span><span class="nf">forEach</span> <span class="p">{</span> <span class="n">cred</span> <span class="p">-&gt;</span>
        <span class="kd">val</span> <span class="py">expirationDate</span> <span class="p">=</span> <span class="n">cred</span><span class="p">.</span><span class="n">expirationDate</span><span class="o">?.</span><span class="nf">let</span> <span class="p">{</span> <span class="nc">Instant</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">it</span><span class="p">)</span> <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">expirationDate</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">val</span> <span class="py">daysUntilExpiration</span> <span class="p">=</span> <span class="nc">ChronoUnit</span><span class="p">.</span><span class="nc">DAYS</span><span class="p">.</span><span class="nf">between</span><span class="p">(</span><span class="nc">Instant</span><span class="p">.</span><span class="nf">now</span><span class="p">(),</span> <span class="n">expirationDate</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">daysUntilExpiration</span> <span class="p">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nf">println</span><span class="p">(</span><span class="s">"   ${cred.id}: Expires in $daysUntilExpiration days"</span><span class="p">)</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nf">println</span><span class="p">(</span><span class="s">"   ${cred.id}: ⚠️ EXPIRED - Renewal needed"</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
    
    <span class="c1">// Step 11: Display wallet statistics</span>
    <span class="kd">val</span> <span class="py">stats</span> <span class="p">=</span> <span class="n">healthWallet</span><span class="p">.</span><span class="nf">getStatistics</span><span class="p">()</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"\n📊 Health Wallet Statistics:"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"   Total credentials: ${stats.totalCredentials}"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"   Valid credentials: ${stats.validCredentials}"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"   Collections: ${stats.collectionsCount}"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"   Tags: ${stats.tagsCount}"</span><span class="p">)</span>
    
    <span class="c1">// Step 12: Summary</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"\n"</span> <span class="p">+</span> <span class="s">"="</span><span class="p">.</span><span class="nf">repeat</span><span class="p">(</span><span class="mi">70</span><span class="p">))</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"✅ VACCINATION HEALTH PASSPORT SYSTEM COMPLETE"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"   All vaccination credentials issued and stored"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"   Privacy-preserving verification implemented"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"   Credential expiration tracking enabled"</span><span class="p">)</span>
    <span class="nf">println</span><span class="p">(</span><span class="s">"="</span><span class="p">.</span><span class="nf">repeat</span><span class="p">(</span><span class="mi">70</span><span class="p">))</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></div></code></pre></div></div>

<p><strong>Expected Output:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><div class="table-wrapper"><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre></td><td class="rouge-code"><pre>======================================================================
Vaccination and Health Passport Scenario - Complete End-to-End Example
======================================================================

✅ TrustWeave initialized
✅ Healthcare Provider DID: did:key:z6Mk...
✅ Individual DID: did:key:z6Mk...
✅ Airline Verifier DID: did:key:z6Mk...

✅ First vaccination credential issued: urn:uuid:...
✅ Second vaccination credential issued: urn:uuid:...
✅ Booster vaccination credential issued: urn:uuid:...

✅ All vaccination credentials stored in health wallet
✅ Vaccination credentials organized

✅ Travel presentation created
   Holder: did:key:z6Mk...
   Credentials: 1

✈️ Airline Verification Process:
✅ Vaccination Credential: VALID
   Proof valid: true
   Issuer valid: true
   Not expired: true
✅ Individual is fully vaccinated
✅ Boarding approved

📅 Credential Expiration Check:
   urn:uuid:...: Expires in 730 days
   urn:uuid:...: Expires in 730 days
   urn:uuid:...: Expires in 365 days

📊 Health Wallet Statistics:
   Total credentials: 3
   Valid credentials: 3
   Collections: 1
   Tags: 9

======================================================================
✅ VACCINATION HEALTH PASSPORT SYSTEM COMPLETE
   All vaccination credentials issued and stored
   Privacy-preserving verification implemented
   Credential expiration tracking enabled
======================================================================
</pre></td></tr></tbody></table></div></code></pre></div></div>
<h2 id="key-features-demonstrated">
  
  
    <a href="#key-features-demonstrated" class="anchor-heading" aria-labelledby="key-features-demonstrated"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Key Features Demonstrated
  
  
</h2>
    

<ol>
  <li><strong>Multiple Vaccination Credentials</strong>: Track multiple doses and boosters</li>
  <li><strong>Privacy-Preserving</strong>: Share only vaccination status, not full health records</li>
  <li><strong>Credential Organization</strong>: Organize by vaccine type and dose number</li>
  <li><strong>Expiration Tracking</strong>: Monitor credential expiration dates</li>
  <li><strong>Selective Disclosure</strong>: Share only necessary credentials</li>
  <li><strong>Instant Verification</strong>: Cryptographic verification without contacting providers</li>
</ol>
<h2 id="real-world-extensions">
  
  
    <a href="#real-world-extensions" class="anchor-heading" aria-labelledby="real-world-extensions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Real-World Extensions
  
  
</h2>
    

<ul>
  <li><strong>International Standards</strong>: Support WHO/ICAO health passport standards</li>
  <li><strong>Multi-Vaccine Support</strong>: Track multiple vaccine types (COVID-19, flu, etc.)</li>
  <li><strong>Revocation Lists</strong>: Check against revocation lists for invalid credentials</li>
  <li><strong>Blockchain Anchoring</strong>: Anchor critical health credentials for permanent records</li>
  <li><strong>QR Code Generation</strong>: Generate QR codes for easy verification</li>
  <li><strong>Offline Verification</strong>: Support offline verification scenarios</li>
</ul>
<h2 id="related-documentation">
  
  
    <a href="#related-documentation" class="anchor-heading" aria-labelledby="related-documentation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Related Documentation
  
  
</h2>
    

<ul>
  <li><a href="/trustweave/getting-started/quick-start/">Quick Start</a> - Get started with TrustWeave</li>
  <li><a href="/trustweave/getting-started/common-patterns/">Common Patterns</a> - Reusable code patterns</li>
  <li><a href="/trustweave/api-reference/core-api/">API Reference</a> - Complete API documentation</li>
  <li><a href="/trustweave/scenarios/healthcare-medical-records-scenario/">Healthcare Medical Records Scenario</a> - Related healthcare scenario</li>
  <li><a href="/trustweave/getting-started/troubleshooting/">Troubleshooting</a> - Common issues and solutions</li>
</ul>

          

          
            
          
        </main>
        


      </div>
    </div>
    
      

<div class="search-overlay"></div>

    
  </div>

  
    





<script type="module">
  
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.esm.min.mjs';
  

  var config = {}
;
  mermaid.initialize(config);
  mermaid.run({
    querySelector: '.language-mermaid',
  });
</script>



  
</body>
</html>

